<script>
  /**
 * @param {number[]} nums
 * @return {number}
 */
var rob = function(nums) {
    const len = nums.length
    if (len < 3) return Math.max(...nums)
    return Math.max(robRange(nums, 0, len - 2), robRange(nums, 1, len - 1))
};

var robRange = function (nums, start, end) {
    let arr = nums.slice(start, end + 1)
    const len = arr.length;
    if (len < 3) return Math.max(...arr);
    let res = [];
    res[0] = arr[0];
    res[1] = Math.max(arr[1], arr[0]);
    for (let i = 2; i < arr.length; i++) {
      res[2] = Math.max(res[1], res[0] + arr[i]);
      res[0] = res[1]
      res[1] = res[2]
    }
    return res[2];
  };

console.log(rob([200,3,140,20,10]));
</script>